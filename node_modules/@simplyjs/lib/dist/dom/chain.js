var y=Object.defineProperty;var h=(n,e)=>y(n,"name",{value:e,configurable:!0});var f=h((n,e)=>{if(!(n instanceof Element))throw new TypeError(`dom: ${e} of type (${n?.constructor?.name}), expected (Element)`)},"checkel"),p=h((n,e)=>{if(!(n instanceof Node))throw new TypeError(`dom: ${e} of type (${n?.constructor?.name}), expected (Node)`)},"checknode"),o=h((n,e)=>{if(typeof n!="string")throw new TypeError(`dom: ${e} of type (${n?.constructor?.name}), expected (String)`)},"checkstr"),a=h((n,e)=>{if(typeof n!="function")throw new TypeError(`dom: ${e} of type (${n?.constructor?.name}), expected (Function)`)},"checkfn"),m=h((n,e)=>{if(typeof n!="number")throw new TypeError(`dom: ${e} of type (${n?.constructor?.name}), expected (Number)`);if(!Number.isInteger(n))throw new TypeError(`dom: ${e} is (${n}), expected integer`)},"checkint"),d=h((n,e)=>{if(!Array.isArray(n))throw new TypeError(`dom: ${e} of type (${n?.constructor?.name}), expected (Array)`)},"checkarr");var E=h(n=>(n.forEach((e,t)=>{if(!(e instanceof Node))throw new TypeError(`dom: element at index (${t}) of type (${e?.constructor?.name}), expected (Element)`)}),n),"checkEls"),g=/[a-z]/,w=h((n,e=document,t)=>{if(typeof n=="string"){if(n[0]?.match(g))return[v(n,e instanceof Node?[]:e,t)];if(n[0]==="<"){let r=document.createElement("div");return r.innerHTML=n,Array.from(r.children)}return p(e,"root"),Array.from(e.querySelectorAll(n))}if(n instanceof Element)return[n];if(Array.isArray(n))return E(n);if(n?.length!==void 0)return E(Array.from(n));throw new TypeError(`dom: a of type (${n?.constructor?.name}), expected (String) or (Element) or (ArrayLike)}`)},"$el"),v=h((n,e={},t=[])=>{o(n,"tag"),d(t,"children");var r=document.createElement(n);for(let s in e){let l=e[s];if(s==="text")r.innerText=l;else if(s==="classList")r.classList=Array.isArray(l)?l.join(" "):l;else if(s==="style")Object.assign(r.style,l);else if(s==="attr")for(let u in l)r.setAttribute(u,l[u]);else if(s==="events")for(let u in l)r.addEventListener(u,l[u]);else r[s]=l}return r.append(...t),r},"create");var c=w;var i=class{constructor(e,t,r){this.elements=c(e,t,r)}static extend(e){Object.assign(i.prototype,e)}add(e){return this.elements.push(...c(e)),this}without(e){return o(e,"selector"),this.elements=this.elements.filter(t=>!t.matches(e)),this}each(e){return a(e,"fn"),this.elements.forEach((t,r)=>e(new i(t),r,this)),this}eachEl(e){return a(e,"fn"),this.elements.forEach(e),this}map(e){return a(e,"mapper"),new i(this.elements.map(e))}filter(e){return a(e,"predicate"),new i(this.elements.filter(e))}get cloned(){return new i(this.elements.concat())}get cloneElements(){return new i(this.elements.map(e=>e.cloneNode(!0)))}slice(e,t){return m(e,"start"),m(t,"end"),new i(this.elements.slice(e,t))}get first(){return new i(this.elements[0]||[])}get last(){return new i(this.elements[this.elements.length-1]||[])}at(e){return m(e,"index"),new i(this.elements[e]||[])}find(e){return o(e,"selector"),new i(this.elements.filter(t=>t.matches(e)))}has(e){return o(e,"selector"),this.elements.some(t=>t.matches(e))}all(e){return o(e,"selector"),this.elements.every(t=>t.matches(e))}indexOf(e){return o(e,"selector"),this.elements.findIndex(t=>t.matches(e))}select(e){return o(e,"selector"),this.elements[0]?new i(this.elements[0].querySelectorAll(e)):new CainedDom([])}get uniq(){return new i(Array.from(new Set(this.elements)))}get cleaned(){return new i(this.elements.filter(e=>document.contains(e)))}get reversed(){return new i(this.elements.concat().reverse())}get isInDom(){if(this.elements[0])return document.contains(this.elements[0])}get isEmpty(){if(this.elements[0])return this.elements[0].childNodes.length===0}get isHidden(){if(this.elements[0])return this.elements[0].style.display==="none"}get parent(){return new i(this.elements[0]?.parentElement||[])}get parents(){for(var e=[],t=this.elements[0]?.parentNode;t;)e.push(t),t=t.parentElement;return new i(e)}get children(){return new i(this.elements[0]?.children||[])}get content(){return new i(this.elements[0]?.childNodes||[])}get next(){return new i(this.elements[0]?.nextElementSibling||[])}get prev(){return new i(this.elements[0]?.previousElementSibling||[])}get siblings(){return new i(Array.from(this.elements[0]?.parentElement?.children||[]).filter(e=>e!==this.elements[0]))}get nextSiblings(){for(var e=[],t=this.elements[0]?.nextElementSibling;t;)e.push(t),t=t.nextElementSibling;return new i(e)}get prevSiblings(){for(var e=[],t=this.elements[0]?.previousElementSibling;t;)e.push(t),t=t.previousElementSibling;return new i(e)}html(e){return e===void 0?this.elements[0]?.innerHTML:(o(e,"html string"),this.elements.forEach(t=>t.innerHTML=e),this)}empty(){return this.elements.forEach(e=>e.innerHTML=""),this}text(e){return e===void 0?this.elements[0]?.innerText:(o(e,"text string"),this.elements.forEach(t=>t.innerText=e),this)}addClass(e){return Array.isArray(e)?this.elements.forEach(t=>t.className+=e.join(" ")):(o(e,"class name"),this.elements.forEach(t=>t.classList.add(e))),this}removeClass(e){return Array.isArray(e)?e.forEach(t=>this.removeClass(t)):(o(e,"class name"),this.elements.forEach(t=>t.classList.remove(e))),this}toggleClass(e){return o(e,"class name"),this.elements.forEach(t=>t.classList.toggle(e)),this}hasClass(e){return o(e,"class name"),this.elements[0]?.classList?.contains?.(e)}attr(e,t){if(typeof e=="string"){if(t===void 0)return this.elements[0]?.getAttribute?.(e);t===null?this.elements.forEach(r=>r.removeAttribute(e)):this.elements.forEach(r=>r.setAttribute(e,t))}else if(e)for(let r in e)this.elements.forEach(s=>s.setAttribute(r,e[r]));else return Array.from(this.elements[0]?.attributes||[]).reduce((r,s)=>(r[s.name]=s.value,r),{});return this}prop(e,t){if(typeof e=="string"){if(t===void 0)return this.elements[0]?.[e];this.elements.forEach(r=>r[e]=t)}else for(let r in e)this.elements.forEach(s=>s[r]=e[r]);return this}call(e,...t){return o(e,"prop"),this.elements.forEach(r=>r[e](...t)),this}callr(e,...t){return o(e,"prop"),this.elements.map(r=>r[e](...t))}css(e,t){if(typeof e=="string"){if(t===void 0)return this.elements[0]?.style?.getPropertyValue?.(e);this.elements.forEach(r=>r.style.setProperty(e,t))}else if(e)for(let r in e)this.elements.forEach(s=>s.style.setProperty(r,e[r]));else{let r=this.elements[0]?.style;return Array.from(r||[]).reduce((s,l)=>(s[l]=r.getPropertyValue(l),s),{})}return this}data(e,t){if(typeof e=="string"){if(t===void 0)return this.elements[0]?.dataset?.[e];t===null?this.elements.forEach(r=>delete r.dataset[e]):this.elements.forEach(r=>r.dataset[e]=t)}else if(e)for(let r in e)this.elements.forEach(s=>s.dataset[e[r]]=e[r]);else return{...this.elements[0]?.dataset};return this}append(e,t=!0){var r=c(e);return t?this.elements.forEach(s=>s.append(...r.map(l=>l.cloneNode(!0)))):this.elements[0]?.append?.(...r),this}prepend(e,t=!0){var r=c(e);return t?this.elements.forEach(s=>s.prepend(...r.map(l=>l.cloneNode(!0)))):this.elements[0]?.prepend?.(...nodes),this}before(e,t=!0){var r=c(e);return t?this.elements.forEach(s=>s.before(...r.map(l=>l.cloneNode(!0)))):this.elements[0]?.before?.(...nodes),this}after(e,t=!0){var r=c(e);return t?this.elements.forEach(s=>s.after(...r.map(l=>l.cloneNode(!0)))):this.elements[0]?.after?.(...nodes),this}appendTo(e){return f(e,"destination"),e.append(...this.elements),this}prependTo(e){return f(e,"destination"),e.prepend(...this.elements),this}insertBefore(e){return f(e,"destination"),e.before(...this.elements),this}insertAfter(e){return f(e,"destination"),e.after(...this.elements),this}replaceWith(e,t=!0){var r=c(e);return t?this.elements.forEach(s=>s.replaceWith(...r.map(l=>l.cloneNode(!0)))):this.elements[0]?.replaceWith?.(...r),this}on(e,t,r){return o(e,"type"),a(t,"listner"),this.elements.forEach(s=>s.addEventListener(e,t,r)),this}off(e,t,r){return o(e,"type"),a(t,"listner"),this.elements.forEach(s=>s.removeEventListener(e,t,r)),this}once(e,t,r){return o(e,"type"),a(t,"listner"),this.elements.forEach(s=>s.addEventListener(e,t,{once:!0,...r})),this}trigger(e,t={}){var r=typeof e=="string"?new Event(e,t):e;return this.elements.forEach(s=>s.dispatchEvent(r)),this}get position(){return this.elements[0]?.getBoundingClientRect?.()}scrollInto(e){return this.elements[0]?.scrollIntoView?.(e),this}animate(...e){return this.elements[0]?.animate?.(...e)}animateAll(...e){return this.elements.forEach(t=>t.animate(...e)),this}hide(){return this.elements.forEach(e=>e.style.display="none"),this}show(){return this.elements.forEach(e=>e.style.display=""),this}toggle(){return this.elements.forEach(e=>e.style.display=e.style.display==="none"?"":"none"),this}wrapEach(e){var t=c(e)[0];return this.elements.forEach(r=>{var s=r.previousElementSibling,l=t.cloneNode(!0);s?s.after(l):r.parentNode&&r.parentNode.append(l),l.append(r)}),this}wrapAll(e){var t=c(e)[0];return t.append(...this.elements),this}unwrap(){return this.elements.forEach(e=>e.parentNode?e.parentNode.after(e):void 0),this}};h(i,"ChainedDom");var S=h((n,e,t)=>new i(n,e,t),"default");export{i as ChainedDom,S as default};
